<%- include('../includes/head/head.ejs') %>

    <body class="text-base text-black font-nunito dark:text-white dark:bg-slate-900">
        <!-- Loader Start -->
        <!-- <div id="preloader">
            <div id="status">
                <div class="spinner">
                    <div class="double-bounce1"></div>
                    <div class="double-bounce2"></div>
                </div>
            </div>
        </div> -->
        <!-- Loader End -->


        <%- include('../includes/nav/nav.ejs') %>

         <!-- Start Section-->
         <section class="relative py-16 md:py-24">
            <div class="container relative">
                <div class="pl-10">
                    <h3 class="pl-10 mb-4 text-2xl font-semibold leading-normal md:text-3xl md:leading-normal">Choose Oganization</h3>
                </div>
                <div class="grid grid-cols-1 lg:grid-cols-3 md:grid-cols-2 gap-[30px]" id="organizationContainer">
                    <!-- <div class="p-6 mt-6 text-center duration-500 hover:shadow-xl hover:shadow-gray-100 dark:hover:shadow-gray-800 rounded-2xl" id="organizationContainer">
                        <div onclick="selectOrganization('educational-institution')" id="card2" class="flex items-center justify-center mx-auto text-3xl text-indigo-600 align-middle shadow-sm bg-indigo-600/5 rounded-xl dark:shadow-gray-800">
                            <img src="<%= process.env.GERGI_HOSTNAME %>uploads/gergi/national_university.svg" class="h-100 w-100" alt="">
                        </div>

                        <div class="content mt-7">
                            <a href="javascript:void(0)" onclick="selectOrganization('educational-institution')" class="text-lg font-medium title h5 hover:text-indigo-600">Organization Name</a>
                        </div>
                    </div> -->
                </div><!--end grid-->
            </div><!--end container-->
        </section><!--end section-->
        <!-- End Section-->

        <!-- Start Hero -->
        <section class="relative table w-full py-36 lg:py-44">
            <div class="container relative">
                <div class="grid md:grid-cols-12 grid-cols-1 items-center mt-10 gap-[30px]">
                    <div class="md:col-span-7">
                       Hello world
                    </div><!--end col-->
                </div><!--end grid-->
            </div><!--end container-->
        </section><!--end section-->
        <!-- End Hero -->

        <!-- Start Hero -->
        <section class="relative table w-full py-36 lg:py-44">
            <div class="container relative">
                <div class="grid md:grid-cols-12 grid-cols-1 items-center mt-10 gap-[30px]">
                    <div class="md:col-span-7">
                        Hello World
                    </div><!--end col-->
                </div><!--end grid-->
            </div><!--end container-->
        </section><!--end section-->
        <!-- End Hero -->

        <!-- Start Hero -->
        <section class="relative table w-full py-36 lg:py-44">
            <div class="container relative">
                <div class="grid md:grid-cols-12 grid-cols-1 items-center mt-10 gap-[30px]">
                    <div class="md:col-span-7">
                        Hello World
                    </div><!--end col-->
                </div><!--end grid-->
            </div><!--end container-->
        </section><!--end section-->
        <!-- End Hero -->

        <%- include('../includes/footer/footer.ejs') %>

        <%- include('../includes/start_cookie_popup/start_cookie_popup.ejs') %>

        <%- include('../includes/back_to_top/back_to_top.ejs') %>

        <%- include('../includes/switcher/switcher.ejs') %>

        <%- include('../includes/ltr_and_rtl_mode/ltr_and_rtl_mode.ejs') %>

        <script>
            const classificationValue = `<%= data.classificationValue %>`;
            let classificationId;

            // Assign classificationId based on classificationValue
            switch (classificationValue) {
                case 'government-agencies':
                    classificationId = 1;
                    break;
                case 'academic-institutions':
                    classificationId = 2;
                    break;
                case 'private-sectors':
                    classificationId = 3;
                    break;
                case 'public-sectors':
                    classificationId = 4;
                    break;
            }

            // Fetch the JSON data asynchronously
            fetch('/references/organizations.json')
                .then(response => response.json())
                .then(data => {
                    // Find the item based on classificationId
                    const foundItems = data.filter(item => item.classification_id === classificationId);
                    console.log('foundItems: ', foundItems);

                    // // Get the container element where the generated HTML will be appended
                    const organizationContainer = document.getElementById('organizationContainer');

                    // // Clear existing content in the container
                    organizationContainer.innerHTML = '';

                    // Loop through foundItems and create HTML elements
                    foundItems.forEach(item => {
                        // Create HTML elements
                        const div = document.createElement('div');
                        div.className = 'p-6 mt-6 text-center duration-500 hover:shadow-xl hover:shadow-gray-100 dark:hover:shadow-gray-800 rounded-2xl';

                        const innerHTML = `
                            <div onclick="selectOrganization('${item.classification}')" id="card2" class="flex items-center justify-center mx-auto text-3xl text-indigo-600 align-middle shadow-sm bg-indigo-600/5 rounded-xl dark:shadow-gray-800">
                                <img src="<%= process.env.GERGI_HOSTNAME %>uploads/gergi/national_university.svg" class="h-100 w-100" alt="">
                            </div>

                            <div class="content mt-7">
                                <a href="javascript:void(0)" onclick="selectOrganization('${item.classification}')" class="text-lg font-medium title h5 hover:text-indigo-600">${item.title}</a>
                            </div>
                        `;

                        // Set innerHTML
                        div.innerHTML = innerHTML;

                        // Append the div to the organizationContainer
                        organizationContainer.appendChild(div);
                    });
                })
                .catch(error => {
                    console.error('Error fetching data:', error);
                });



        </script>

<%- include('../includes/script/script.ejs') %>